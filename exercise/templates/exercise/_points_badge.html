{% load i18n %}
{% load exercise %}
{% if submission_status %}
<span class="badge text-bg-secondary rounded-pill">
    {{ submission_status|submission_status }}
</span>

{% elif confirm_the_level %}
{% if submitted %}
<span class="badge rounded-pill {% if graded and official %} text-bg-{% if full_score %}success{% elif passed %}warning{% else %}danger{% endif %}{% endif %} {{ classes }}">
  {% if not official %}
    {% if unofficial_submission_type == 'limit_exceeded' %}
      {% translate "LIMIT_EXCEEDED" %}
    {% elif unofficial_submission_type == 'deadline_passed' %}
      {% translate "DEADLINE_PASSED" %}
    {% else %}
      {% translate "UNOFFICIAL_DESCRIPTION" %}
    {% endif %}
  {% elif passed %}
    {% translate "ACCEPTED" %}
  {% elif graded %}
    {% translate "REJECTED" %}
  {% else %}
    {% translate "SUBMITTED" %}
  {% endif %}
</span>
{% elif confirmable_points %}
<span class="badge text-bg-secondary rounded-pill text-bg-danger" data-bs-toggle="tooltip" title="{% translate 'CONFIRMABLE_POINTS_DESCRIPTION' %}">
  {% translate "MISSING" %}
</span>
{% elif exercise_page %}
<span class="badge text-bg-secondary rounded-pill">
  {% translate "NOT_SUBMITTED" %}
</span>
{% endif %}

{% else %}
{% if difficulty %}
<span class="difficulty align-middle">{{ difficulty }}</span>
{% endif %}
<span class="badge rounded-pill {{ classes }}"
  {% if badge_title %}data-bs-toggle="tooltip" data-bs-placement="bottom"{% endif %}
  title="{{ badge_title }}">
  {% if show_zero_points_immediately and best_submission_true_points == 0 %}
    0 / {{ max }}
  {% else %}
    {{ formatted_points }} / {{ max }}
  {% endif %}
</span>
{% endif %}
