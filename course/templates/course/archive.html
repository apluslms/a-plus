{% extends "base.html" %}
{% load i18n %}
{% load course %}

{% block title %}{% translate "COURSE_ARCHIVE" %} | {{ block.super }}{% endblock %}
{% block view_tag %}archive{% endblock %}

{% block content %}
  <div class="frontpage-panel">
    <div class="page-header d-flex justify-content-between align-items-center flex-column flex-md-row">
      <h1 class="align-self-start">{% translate "COURSE_ARCHIVE" %}</h1>
      <div class="align-self-stretch mt-md-4">{% include "course/_search_courses_form.html" %}</div>
    </div>
    {% regroup instances by starting_time|date:"Y" as instances_by_year %}

    {% for year, year_instances in instances_by_year %}
      <section class="frontpage frontpage-section">
        <div class="section-heading">
          <h2>{{ year }}</h2>
        </div>
        <div class="cards">
          {% include "course/_course_cards.html" with instances=year_instances condensed=True %}
        </div>
      </section>
    {% endfor %}

    {% if not instances and not siteadvert %}
			<div class="card-body">
				<p class="panel-default-text">
					{% translate "NO_COURSES_FOUND" %}
				</p>
			</div>
		{% endif %}
  </div>
{% endblock %}
